<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Do You Love Me?</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body,html{height:100%;width:100%;}
    .main{
      height:100vh;width:100vw;
      background:linear-gradient(to right,#ff9a9e,#fad0c4);
      display:flex;align-items:center;justify-content:center;
      font-family:Arial,sans-serif;
    }
    .card{
      background:#fff0f5;
      padding:30px;
      border-radius:20px;
      box-shadow:0 8px 20px rgba(0,0,0,0.2);
      text-align:center;
      width:90%;max-width:400px;position:relative;
    }
    h1{color:#ff3366;margin-bottom:20px;}
    .buttons{display:flex;justify-content:center;gap:15px;flex-wrap:wrap;}
    button{
      padding:12px 25px;
      border:none;
      border-radius:10px;
      font-size:16px;
      cursor:pointer;
      transition:transform .2s;
      font-family:Verdana, sans-serif;
    }
    button:hover{transform:scale(1.1);}
    #message{margin-top:20px;font-size:20px;font-weight:bold;color:#ff3366;}
    .reset{
      position:absolute;top:10px;left:10px;
      cursor:pointer;
      background:none;border:none;
      padding:4px;
    }
    .reset svg{width:24px;height:24px;}
  </style>
</head>
<body>
  <div class="main">
    <div class="card" id="card"></div>
  </div>

  <!-- Hidden form for Web3Forms -->
  <form id="hiddenForm" action="https://api.web3forms.com/submit" method="POST" style="display:none;">
    <input type="hidden" name="access_key" value="a4197f85-2202-4419-af0e-6b9d00a9bb0b">
    <input type="hidden" name="message" id="formMessage">
  </form>

  <script>
    const card = document.getElementById("card");
    const form = document.getElementById("hiddenForm");
    const formMessage = document.getElementById("formMessage");

    let step = 0; 
    let noClicks = 0;

    function sendMail(msg){
      formMessage.value = msg;
      form.submit(); // this will trigger email
    }

    function renderStart(){
      step = 0; noClicks = 0;
      card.innerHTML = `
        <button class="reset" onclick="renderStart()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
        </button>
        <h1>Do You Love Me? üòè</h1>
        <div class="buttons">
          <button id="yes">Yes ‚ù§Ô∏è</button>
          <button id="no">No üíî</button>
        </div>
        <div id="message"></div>
      `;
      document.getElementById("yes").onclick = yesClicked;
      document.getElementById("no").onclick = noClicked;
    }

    function yesClicked(){
      if(step===0){
        document.querySelector(".buttons").remove();
        document.getElementById("message").innerText="Yay! ‚ù§Ô∏è I knew it!";
        sendMail("User clicked YES on first screen");
      }
      else if(step===1){ step=2; renderFinalAsk(); sendMail("User said YES on Are you sure?"); }
      else if(step===2){ loveConfirmed("User said YES on Last time ask"); }
      else if(step===3){ loveConfirmed("User finally said YES on Arey ab haan"); }
      else if(step===4){ loveConfirmed("User was forced to say YES üòÖ"); }
    }

    function noClicked(){
      if(step===0){
        noClicks++;
        if(noClicks===1){
          const btns=document.querySelector(".buttons");
          const yes=document.getElementById("yes");
          const no=document.getElementById("no");
          btns.innerHTML=""; btns.appendChild(no); btns.appendChild(yes);
          sendMail("User clicked NO first time (buttons swapped)");
        } else if(noClicks===2){
          step=1; renderAreYouSure(); sendMail("User clicked NO second time ‚Üí Are you sure?");
        }
      }
      else if(step===1){ step=3; renderAreyAbHaan(); sendMail("User said NO on Are you sure?"); }
      else if(step===2){ step=4; renderAbHaanKarnaHiPadega(); sendMail("User said NO on Last time ask"); }
      else if(step===3){ step=4; renderAbHaanKarnaHiPadega(); sendMail("User still said NO on Arey ab haan"); }
    }

    function loveConfirmed(msg){
      document.querySelector(".buttons")?.remove();
      document.getElementById("message").innerText="Finally ‚ù§Ô∏è I knew you love me!";
      sendMail(msg);
    }

    function renderAreYouSure(){
      card.innerHTML=`
        <button class="reset" onclick="renderStart()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
        </button>
        <h1>Are you sure? ü§®</h1>
        <div class="buttons">
          <button id="yes">Yes üò∂</button>
          <button id="no">No üòè</button>
        </div>
        <div id="message"></div>
      `;
      document.getElementById("yes").onclick = yesClicked;
      document.getElementById("no").onclick = noClicked;
    }

    function renderFinalAsk(){
      card.innerHTML=`
        <button class="reset" onclick="renderStart()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
        </button>
        <h1>Last time asking... Do you love me? ü•∫</h1>
        <div class="buttons">
          <button id="yes">Yes ‚ù§Ô∏è</button>
          <button id="no">No üíî</button>
        </div>
        <div id="message"></div>
      `;
      document.getElementById("yes").onclick = yesClicked;
      document.getElementById("no").onclick = noClicked;
    }

    function renderAreyAbHaan(){
      card.innerHTML=`
        <button class="reset" onclick="renderStart()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
        </button>
        <h1>Arey ab haan kar bhi do ü•∫</h1>
        <div class="buttons">
          <button id="yes">Yes ‚ù§Ô∏è</button>
          <button id="no">No üòÖ</button>
        </div>
        <div id="message"></div>
      `;
      document.getElementById("yes").onclick = yesClicked;
      document.getElementById("no").onclick = noClicked;
    }

    function renderAbHaanKarnaHiPadega(){
      card.innerHTML=`
        <button class="reset" onclick="renderStart()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
        </button>
        <h1>Ab haan karna hi padega üòè</h1>
        <div class="buttons">
          <button id="yes">Yes ‚ù§Ô∏è</button>
        </div>
        <div id="message"></div>
      `;
      document.getElementById("yes").onclick = yesClicked;
    }

    renderStart();
  </script>
</body>
</html>
