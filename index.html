<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Do You Love Me?</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Amarante&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      *{margin:0;padding:0;box-sizing:border-box;}
      body,html{height:100%;width:100%;font-family:"Poppins",sans-serif;}
      .main{
        height:100vh;width:100vw;
        background:linear-gradient(135deg,#ff9a9e,#fad0c4);
        display:flex;align-items:center;justify-content:center;
        padding:10px;
      }
      .card{
        background:#fff0f5;
        padding:25px 20px;
        border-radius:20px;
        box-shadow:0 6px 16px rgba(0,0,0,0.25);
        text-align:center;
        width:100%;max-width:380px;position:relative;
        animation:fadeIn .5s ease;
      }
      h1{
        color:#ff3366;margin-bottom:20px;font-size:1.6rem;line-height:1.4;
        font-family:"Dancing Script",cursive;animation:slideDown .5s ease;
      }
      .buttons{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-top:10px;}
      button{
        font-family:"Amarante", serif;
        font-weight:400;font-style:normal;
        padding:12px 22px;border:none;border-radius:14px;font-size:16px;font-weight:600;
        cursor:pointer;transition:transform .2s,box-shadow .2s;
        background:linear-gradient(135deg,#ff758c,#ff7eb3);color:white;
        box-shadow:0 4px 10px rgba(0,0,0,0.15);
      }
      button:hover{transform:scale(1.08);}
      #message{
        margin-top:20px;font-size:18px;font-weight:bold;color:#ff3366;animation:fadeIn .6s ease;
        font-family:"Dancing Script",cursive;
      }
      .reset{position:absolute;top:8px;left:8px;cursor:pointer;background:none;border:none;
        padding:2px;opacity:.7;transition:opacity .2s;}
      .reset:hover{opacity:1;}
      .reset svg{width:20px;height:20px;}
      @keyframes fadeIn{from{opacity:0;transform:scale(.9);}to{opacity:1;transform:scale(1);}}
      @keyframes slideDown{from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);}}
      @media (max-width:480px){
        .card{padding:20px 15px;border-radius:16px;}
        h1{font-size:1.3rem;}
        button{padding:10px 18px;font-size:15px;}
        #message{font-size:16px;}
      }
    </style>
  </head>
  <body>
    <div class="main">
      <div class="card" id="card"></div>
    </div>

    <script>
      // üîó REPLACE THIS with your real Formspree endpoint
      const FORMSPREE_ENDPOINT = "https://formspree.io/f/mwpneqvz";

      // Step labels (for nicer emails)
      const STEP_LABEL = {
        0: "START",
        1: "ARE_YOU_SURE",
        2: "FINAL_ASK",
        3: "AREY_AB_HAAN",
        4: "AB_HAAN_KARNA_HI_PADEGA",
        5: "GENUINE_LAST"
      };

      // Send click event to Formspree
      function sendClick(action, extra = {}) {
        const payload = {
          subject: `DLVM Click: ${action}`,     // email subject
          action,                               // which button
          step: STEP_LABEL[step] || step,       // current step name
          page: window.location.href,
          userAgent: navigator.userAgent,
          time: new Date().toISOString(),
          ...extra
        };

        // Fire-and-forget
        fetch(FORMSPREE_ENDPOINT, {
          method: "POST",
          headers: {
            "Accept": "application/json",
            "Content-Type": "application/json"
          },
          body: JSON.stringify(payload)
        }).catch(() => {/* ignore errors for UX */});
      }

      const card = document.getElementById("card");
      let step = 0, noClicks = 0;

      function renderStart(){
        step = 0; noClicks = 0;
        card.innerHTML = `
          <button class="reset" onclick="sendClick('RESET'); renderStart()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
          </button>
          <h1>Do You Love Me? üòè</h1>
          <div class="buttons">
            <button id="yes">Yes ‚ù§Ô∏è</button>
            <button id="no">No üíî</button>
          </div>
          <div id="message"></div>`;
        document.getElementById("yes").onclick = yesClicked;
        document.getElementById("no").onclick = noClicked;
      }

      function yesClicked(){
        sendClick("YES");  // ‚Üê email on every YES
        if(step===0){
          document.querySelector(".buttons").remove();
          document.getElementById("message").innerText="Yay! ‚ù§Ô∏è I knew it!";
        }
        else if(step===1){ step=2; renderFinalAsk(); }
        else if(step===2){ loveConfirmed(); }
        else if(step===3){ loveConfirmed(); }
        else if(step===4){ step=5; renderGenuineLast(); }
        else if(step===5){ loveConfirmed(); }
      }

      function noClicked(){
        sendClick("NO");   // ‚Üê email on every NO
        if(step===0){
          noClicks++;
          if(noClicks===1){
            const btns=document.querySelector(".buttons");
            const yes=document.getElementById("yes"), no=document.getElementById("no");
            btns.innerHTML=""; btns.append(no); btns.append(yes);
          } else if(noClicks===2){
            step=1; renderAreYouSure();
          }
        }
        else if(step===1){ step=3; renderAreyAbHaan(); }
        else if(step===2){ step=4; renderAbHaanKarnaHiPadega(); }
        else if(step===3){ step=4; renderAbHaanKarnaHiPadega(); }
        else if(step===5){
          document.querySelector(".buttons").remove();
          document.getElementById("message").innerText="Okay üíî, sach bol diya tumne...";
        }
      }

      function loveConfirmed(){
        sendClick("LOVE_CONFIRMED");
        document.querySelector(".buttons")?.remove();
        document.getElementById("message").innerText="Finally ‚ù§Ô∏è I knew you love me!";
      }

      function renderAreYouSure(){
        card.innerHTML=`
          <button class="reset" onclick="sendClick('RESET'); renderStart()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
          </button>
          <h1>Are you sure? ü§®</h1>
          <div class="buttons">
            <button id="yes">Yes üò∂</button>
            <button id="no">No üòè</button>
          </div>
          <div id="message"></div>`;
        document.getElementById("yes").onclick=yesClicked;
        document.getElementById("no").onclick=noClicked;
      }

      function renderFinalAsk(){
        card.innerHTML=`
          <button class="reset" onclick="sendClick('RESET'); renderStart()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
          </button>
          <h1>Last time asking... Do you love me? ü•∫</h1>
          <div class="buttons">
            <button id="yes">Yes ‚ù§Ô∏è</button>
            <button id="no">No üíî</button>
          </div>
          <div id="message"></div>`;
        document.getElementById("yes").onclick=yesClicked;
        document.getElementById("no").onclick=noClicked;
      }

      function renderAreyAbHaan(){
        card.innerHTML=`
          <button class="reset" onclick="sendClick('RESET'); renderStart()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
          </button>
          <h1>Arey ab haan kar bhi do ü•∫</h1>
          <div class="buttons">
            <button id="yes">Yes ‚ù§Ô∏è</button>
            <button id="no">No üòÖ</button>
          </div>
          <div id="message"></div>`;
        document.getElementById("yes").onclick=yesClicked;
        document.getElementById("no").onclick=noClicked;
      }

      function renderAbHaanKarnaHiPadega(){
        card.innerHTML=`
          <button class="reset" onclick="sendClick('RESET'); renderStart()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
          </button>
          <h1>Ab haan karna hi padega üòè</h1>
          <div class="buttons">
            <button id="yes">Yes ‚ù§Ô∏è</button>
          </div>
          <div id="message"></div>`;
        document.getElementById("yes").onclick=yesClicked;
      }

      function renderGenuineLast(){
        card.innerHTML=`
          <button class="reset" onclick="sendClick('RESET'); renderStart()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#1f1f1f"><path d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"/></svg>
          </button>
          <h1>Ab seriously batao... sach me pyaar hai ya nahi? üôà</h1>
          <div class="buttons">
            <button id="yes">Yes ‚ù§Ô∏è</button>
            <button id="no">No üíî</button>
          </div>
          <div id="message"></div>`;
        document.getElementById("yes").onclick=loveConfirmed;
        document.getElementById("no").onclick=()=>{
          sendClick("NO (GENUINE_LAST)");
          document.querySelector(".buttons").remove();
          document.getElementById("message").innerText="Okay üíî, sach bol diya tumne...";
        };
      }

      // start
      renderStart();
    </script>
  </body>
</html>
